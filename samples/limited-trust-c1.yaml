apiVersion: mm.ibm.istio.io/v1
kind: MeshFedConfig
metadata:
  name: limited-trust
  secret: cluster1
spec:
  tls_context_selector:
    mesh: limited-trust
  use_egress_gateway: true
  egress_gateway_selector:
    istio: egressgateway
  egress_gateway_port: 10001
  use_ingress_gateway: true
  ingress_gateway_selector:
    istio: ingressgateway
  ingress_gateway_port: 15443
---
apiVersion: v1
kind: Secret
metadata:
  name: c1-example-com-certs
  namespace: default
  labels:
    mesh: limited-trust
    secret: cluster1
type: kubernetes.io/tls
data:
  # Public key
  # Issuer: O=example Inc., CN=example.com
  # Subject: O=example Inc., department 1, CN=c1.example.com
  # Expires Nov  6 16:11:14 2020 GMT
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURmekNDQW1lZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRVUZBREF0TVJVd0V3WURWUVFLREF4bGVHRnQKY0d4bElFbHVZeTR4RkRBU0JnTlZCQU1NQzJWNFlXMXdiR1V1WTI5dE1CNFhEVEU1TVRFd056RTJNVEV4TkZvWApEVEl3TVRFd05qRTJNVEV4TkZvd1BqRWpNQ0VHQTFVRUNnd2FaWGhoYlhCc1pTQkpibU11TENCa1pYQmhjblJ0ClpXNTBJREV4RnpBVkJnTlZCQU1NRG1NeExtVjRZVzF3YkdVdVkyOXRNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUYKQUFPQ0FROEFNSUlCQ2dLQ0FRRUExVGRTOFVSTjFPbzVqcUhHSmlqMW9HdVRmQWJGRmIzQXVGWXpHT3ZVai9rNAplWk5YbWEzQW9pd0lCenZzTU96emxWTStFMDJrZnB5SE1ybHRZbys1Y0xQUHV6VTNBWTVEMXJkVHMzVWtFZmxuCmJSNDA0MUEzNDNYWUQ4cHlVZ2hEb2RMOGdwRC9VaHZCODFxQlRMUXFscWhReGhxVEVUZVhET0RreC94L1JmMWEKSWpPUWRsZG1naHhJUlhzWHN0VSt6cVdaYVpoMjRuUDRiV1Z4a0VqUVFxYm91Y3hpdFo2a0g2UE1CVDQ2dXVZWQpaUnRBdkxJdFRDZlQvWnJhVHd1Ym84VE15TjJQY0JYWWdmNkUvMDNKNDZtWGhHZ1lQY3hSVVBLSUJIeEJoY2JwCkJXak5Na2VBWlAvUzBPemtPckRWZzd5MFUxQ0k1dHBycVpOSWJ4UWFIUUlEQVFBQm80R1lNSUdWTUIwR0ExVWQKRGdRV0JCU0s5QU1CbTFHNmhXTnAvd1U4a0pSdlZZUU1JakFNQmdOVkhSTUJBZjhFQWpBQU1BNEdBMVVkRHdFQgovd1FFQXdJR3dEQVRCZ05WSFNVRUREQUtCZ2dyQmdFRkJRY0RBakJCQmdOVkhSRUJBZjhFTnpBMWhqTnpjR2xtClptVTZMeTlqTVM1bGVHRnRjR3hsTG1OdmJTOXBjM1JwYnkxd2NtbDJZWFJsTFdWbmNtVnpjMmRoZEdWM1lYa3cKRFFZSktvWklodmNOQVFFRkJRQURnZ0VCQUhlRjFyVUUwT3JHaXNISUJjQTJRUXh3TWxIU3FJdFdmSjFwNFZkaAo2YURqYUxNRVE2Mnc1SGRDelRmZ2VnRHEyYzBHTUtBRmZKcGZJdUdFRUd3bks4SnJxcThFVFlHdzF0eWZZKzN5CkJOQ2JZdDdxc2xXWlRSOCtRdG9PdkFpUkc1SjMxKzlXMUhvV2hqcFF2dVBMT0NNclNnZWpkd1Z0R21BUnRobTUKdTV2eS9XWktuT1BpZTkzZVhNRm5EUXJaVStLVVFnTHlEMHc2dm5sazBUYU9rTnF5bGhEWVNXRzVhYmFzRk5IYQp1KzcrWVdKOUt5cGRITVhTWjIwNkU3cUVpaUJjVlovdklNL3VMUUY3a3F6N21kcmtjaGhnbVFja2o1N0w3T1ZCCjN3UHNiMVpoS09QSVU2WksvN3JkOHF6THIyK0FUOWd1bzZZbWRhMXpaUDdDWmVjPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  # Private key matching the above
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRRFZOMUx4UkUzVTZqbU8Kb2NZbUtQV2dhNU44QnNVVnZjQzRWak1ZNjlTUCtUaDVrMWVacmNDaUxBZ0hPK3d3N1BPVlV6NFRUYVIrbkljeQp1VzFpajdsd3M4KzdOVGNCamtQV3QxT3pkU1FSK1dkdEhqVGpVRGZqZGRnUHluSlNDRU9oMHZ5Q2tQOVNHOEh6CldvRk10Q3FXcUZER0dwTVJONWNNNE9USC9IOUYvVm9pTTVCMlYyYUNIRWhGZXhleTFUN09wWmxwbUhiaWMvaHQKWlhHUVNOQkNwdWk1ekdLMW5xUWZvOHdGUGpxNjVoaGxHMEM4c2kxTUo5UDltdHBQQzV1anhNekkzWTl3RmRpQgovb1QvVGNuanFaZUVhQmc5ekZGUThvZ0VmRUdGeHVrRmFNMHlSNEJrLzlMUTdPUTZzTldEdkxSVFVJam0ybXVwCmswaHZGQm9kQWdNQkFBRUNnZ0VBVzJxY0NrdlIzeDhKeklpNkQzUnlVL1NyeUhxU2w4N0N5WVpUNURTQTc3WFkKSy9BcmwvMXlZVlhsbjB4bTZWYyszT0JTOWkzTkFHZ1dZMzR6VXhYeVdVc1BIdUlqRW15djAyakkzMkd6TkcydApsWkJrOXExWE9SUTJyaGFMeTNZMW9UVjRCSGNzc1VTcmRLNXlUN1BUcXNMQjF4NWZ2ZnNLclgvak40ZWYvaDVvCjM4RERJaU5qSVg2aUQvSGNMQXA4OFFBb0w5ZzhyalFhaFpBVk1HSVhjbGxZVGlwMlVVR0RnQkxSYXVFTVZoZ24Kc0xrK3lKdlJkMGpQR1dmWVFZK002VUo3d1R4cG9lVm43TVJSSXV1Q1F6cXBMN0pKVGYrVExNcGJXUGduUHM5cgpFWVN3ZWo4ckVjWTlpM1BpZS9GclJqOUxjcHR5N1AwUkR0M1NkMjFCd1FLQmdRRHRheG1KQWs0U1VmNlVuT0ZCCmdqTGdJcUFpN2hnN1FnWldwSEZtYVFaUmlOdVluMXpGdnh3Qk1NWDF5QitKMGFFZGtwU2VpNkxhOTkvY3FWUkEKamdvV1BCajVOVnRqcEI1dzdDN0tyTkVIY0xrcDVESEZ2Z3M3RW5qSzJ5d1BFQnNzUHVWbERXMWpNMFk2OHNSUApNWVMwbC9TL1gvamJxUmF1Z3N4cGduSWhiUUtCZ1FEbDUwODFmOWJPMFh4a2k2eml6eUtlMmh4M0ttdmlVZk44CjhjOGNmSlpsZ09RWTFWeDNudmU0TmM3b3ZzZEJGZnJpaG4rSUlKNW5VYmZ4Q25pUkExeExseTM3SXg0NEtvc3UKVUduWUtFeVhCVnRtMFNIT0diNVRKVGRMTVgvS0JsQ0RmUUJ3KzFzeksyMDc2R0xJRTBJODkzU3JqQWRhT0psVQpFZVYyR0ZJZGNRS0JnUUN2cldZeHVXRG5zWUI5bXpBYTl5cUtLMVR2UTlydVRrYSthZVAzY1pOWlZibVlUNk9vCk4yZVRnZkdaa3NHemkwaDZ4M0h0ZDBuRVdWSnV4MlV1ZDJ3RFUranV6b3FYU21PMER5LzRqTFFIbTJPSUdmQ3kKYjVPRDNJRkJLYmlLVk5LbWhNdmRZSGdteFZRY1huTGdYclhobytkWWpMMXFYTTRKeDROV04wNFlhUUtCZ0RMdAoyTmdySjdUTkoxZEdzZGZVdHdDbHBLU3BXeGpadXF5MURJSnMvd3doVDJaSTdhRDZNRG80Z1V1QjU3WDlYb1NMCjh2aCs4VmhGL0ErRG1FM1hocnlnRXVtTlVBWjFOanZlU0hSQUNTZHpZbG9XZmZ5Z0swOVQ4VG5SRDFQN3JoNVMKdEtSU3FsTmRqV2MyQlp2NDJEV1ZROTAwdWZROGtZclVKQmJUTUcyaEFvR0FGSUFCbjdsR0tXZCtZaHRaVXp3Ywp3a3VxYUltbzJ5OFpGT0QrdEloK3VkdDd6cldqZEJwY01SblJmN1pPK3o2cWRPVjVlT1A4ekJkRDJHOG5hMXhOCjNxZjBvVVlmem1ZbisvVmlMYmdDbVZPQmYxZzlYV0t5U3pIaDl4TFhBdFdVZ0NoOUVRbmlNSkF2aXZsU1RnSFQKQXRvenlPUW9PVklkaFhxQUd5U2lySUU9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
  # Root cert
  # Issuer: O=example Inc., CN=example.com
  # Subject: O=example Inc., CN=example.com
  # Expires Nov  6 16:11:14 2020 GMT
  example.com.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMxakNDQWI0Q0NRRENYUE8yNHp6RXBEQU5CZ2txaGtpRzl3MEJBUXNGQURBdE1SVXdFd1lEVlFRS0RBeGwKZUdGdGNHeGxJRWx1WXk0eEZEQVNCZ05WQkFNTUMyVjRZVzF3YkdVdVkyOXRNQjRYRFRFNU1URXdOekUyTVRFeApORm9YRFRJd01URXdOakUyTVRFeE5Gb3dMVEVWTUJNR0ExVUVDZ3dNWlhoaGJYQnNaU0JKYm1NdU1SUXdFZ1lEClZRUUREQXRsZUdGdGNHeGxMbU52YlRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUIKQUtZZ2VycythbTluSGdEZ05LcWREZWJmK1p0K2drU0QyMmJQYjd0bzk2YXNkdnlzWlBUS0ZKdFRkRmJCbWRrbAo2bFl2bHcrWmtiTS8rN3hwcGtoazhpVkcycHpzTkVoQkg3cVZpMXc4dVNlOHNpVFJzd0xXNHFpdEFGSGFvYmNGCkhHNTdJT1VYbXFEUDcvVm5PaE1qaVppcUh6VXV1N1NXRHByUG1YNjRpTWk3NXVBS3pxbDNZa21TTmtYakZRcmEKVW14UkJCMi9XWEorSGJ5RHM3NGY0UjFmN295QkRBTEVhaHJ4UVBEQ3AyVXd2cU80OWpCenUrdlhNOEpvZGVhVAorUlU2aFNXNDYxUS95aDJRU2JYc3JDMS85RExkcG5QZEkzblplNFZlMWhsWEllcldXeGRYRzVPWXdZc0NveENECjUzOEZqOE42SUVFY3BwVGxsbDVCU0Q4Q0F3RUFBVEFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBSkVkbzRYc0wKRjMvc2hGS1EvUyt2dlVFa0h3WUJZa29ybFZIdTdabUFiQTFxSVZTT0hhMERVVGppRDJIbzF1dDRBanJnampZSQp0bHFPaVhFdGpTc2dMWUNBQ2xuNmYxNE5JMHVGYkltYUpXZm5wRU1CMkhvZWdFTVFGZ0VDejhlRlVzRitjUm4vClpvMWk3Qmh3cXF0QlhSR2tlSHZVY3k2U3VqWklSNllramJSNzVacGNybFN5T1NDcUlqY2swZEJHdWo0NzlWd0cKZnhIYTZNTkplYnUyeWRHUU1PTSs2TkNzS0NXRHVoRUo1T28vNUV0eUQ5RFJoNDFUYmJ4NnJNNVAzU2xvQnk1aAptWGpHaHY0UkZBdVV6OU5BQUhESkRFekRnOTBjTUViN0RmZWx6UFN5MVNQWk05NjhoQVRhQVBvdkpOVzRjMTJPCmJaeWpadXE3eklrRzdBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
